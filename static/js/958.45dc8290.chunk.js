(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[958],{2958:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var r=n(2791),a=n(2007),o=n.n(a),i="ContactList_list__csErn",c=n(9434),s=n(7177),u=n(4942),l=n(3366),d=n(7462),p=n(8182),f=n(4419),v=n(2065),h=n(6863),m=n(5873),g=n(7491),b=n(9853),y=n(1217);function x(e){return(0,y.Z)("MuiIconButton",e)}var C=(0,n(5878).Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Z=n(184),z=["edge","children","className","color","disabled","disableFocusRipple","size"],k=(0,h.ZP)(g.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,b.Z)(n.color))],n.edge&&t["edge".concat((0,b.Z)(n.edge))],t["size".concat((0,b.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,d.Z)({color:(t.vars||t).palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,v.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,u.Z)({},"&.".concat(C.disabled),{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}))})),j=r.forwardRef((function(e,t){var n=(0,m.Z)({props:e,name:"MuiIconButton"}),r=n.edge,a=void 0!==r&&r,o=n.children,i=n.className,c=n.color,s=void 0===c?"default":c,u=n.disabled,v=void 0!==u&&u,h=n.disableFocusRipple,g=void 0!==h&&h,y=n.size,C=void 0===y?"medium":y,j=(0,l.Z)(n,z),w=(0,d.Z)({},n,{edge:a,color:s,disabled:v,disableFocusRipple:g,size:C}),R=function(e){var t=e.classes,n=e.disabled,r=e.color,a=e.edge,o=e.size,i={root:["root",n&&"disabled","default"!==r&&"color".concat((0,b.Z)(r)),a&&"edge".concat((0,b.Z)(a)),"size".concat((0,b.Z)(o))]};return(0,f.Z)(i,x,t)}(w);return(0,Z.jsx)(k,(0,d.Z)({className:(0,p.Z)(R.root,i),centerRipple:!0,focusRipple:!g,disabled:v,ref:t,ownerState:w},j,{children:o}))})),w=n(7247),R=n(5861),_=n(4687),S=n.n(_),O=n(1044),T=n(5029);O.Z.defaults.baseURL="https://connections-api.herokuapp.com";var A={fetchContacts:function(){return function(){var e=(0,R.Z)(S().mark((function e(t){var n,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,T.$0)()),e.prev=1,e.next=4,O.Z.get("/contacts");case 4:n=e.sent,r=n.data,t((0,T.v2)(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((0,T.I7)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},addContact:function(e){return function(t){console.log(e),t((0,T.sT)()),O.Z.post("/contacts",e).then((function(e){var n=e.data;return t((0,T.TL)(n))})).catch((function(e){return t((0,T.wg)(e.message))}))}},deleteContact:function(e){return function(t){t((0,T.v$)()),console.log(e),O.Z.delete("/contacts/".concat(e)).then((function(){return t((0,T.fJ)(e))})).catch((function(e){return t((0,T.TO)(e.message))}))}}},F=A,N=function(e){var t=e.contact,n=(0,c.I0)();return(0,Z.jsxs)(s.Z,{dense:!0,sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},className:i,children:[t.name,": ",t.number,(0,Z.jsx)(j,{edge:"end","aria-label":"delete",type:"button",onClick:function(){return e=t.id,n(F.deleteContact(e));var e},id:t.id,children:(0,Z.jsx)(w.Z,{})})]},t.id)},E=function(e){var t=e.contacts;if(t)return(0,Z.jsx)("ul",{children:t.map((function(e){return(0,Z.jsx)("li",{className:i,children:(0,Z.jsx)(N,{contact:e})},e.id)}))})};E.protoType={onClick:o().func.isRequired};var I=n(885),q="NOT_FOUND";var L=function(e,t){return e===t};function M(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,a=void 0===r?L:r,o=n.maxSize,i=void 0===o?1:o,c=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(a),u=1===i?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:q},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var a=n[r];return r>0&&(n.splice(r,1),n.unshift(a)),a.value}return q}return{get:r,put:function(t,a){r(t)===q&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(i,s);function l(){var t=u.get(arguments);if(t===q){if(t=e.apply(null,arguments),c){var n=u.getEntries(),r=n.find((function(e){return c(e.value,t)}));r&&(t=r.value)}u.put(arguments,t)}return t}return l.clearCache=function(){return u.clear()},l}function P(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o,i=0,c={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(c=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var u=c,l=u.memoizeOptions,d=void 0===l?n:l,p=Array.isArray(d)?d:[d],f=P(r),v=e.apply(void 0,[function(){return i++,s.apply(null,arguments)}].concat(p)),h=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=v.apply(null,e)}));return Object.assign(h,{resultFunc:s,memoizedResultFunc:v,dependencies:f,lastResult:function(){return o},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),h};return a}var V=B(M),D=function(e){return e.contacts.items},U=function(e){return e.contacts.filter},W={getContacts:D,getFilter:U,getVisibleContacts:V([D,U],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}))},$=n(6015),H=n(4565),J=n(1959),Y=n(7205),G={box:"ContactForm_box__4-sSd",btn:"ContactForm_btn__wll+u"};function K(){var e=(0,r.useState)(""),t=(0,I.Z)(e,2),n=t[0],a=t[1],o=(0,r.useState)(""),i=(0,I.Z)(o,2),s=i[0],u=i[1],l=(0,c.v9)(W.getContacts),d=(0,c.I0)(),p=function(){a(""),u("")};return(0,Z.jsxs)($.Z,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var t=e.target.name.value,n=e.target.number.value;l.find((function(e){return e.name.toLowerCase()===t}))?alert("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c!!"):d(F.addContact({name:t,number:n})),p()},sx:{mt:3},children:[(0,Z.jsxs)(H.Z,{component:"label",variant:"h6",children:["Name",(0,Z.jsx)(J.Z,{type:"text",value:n,onChange:function(e){a(e.target.value)},name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,color:"success",variant:"filled",size:"small",sx:{mr:2},className:G.input})]}),(0,Z.jsxs)(H.Z,{component:"label",variant:"h6",children:["Number",(0,Z.jsx)(J.Z,{type:"tel",value:s,onChange:function(e){u(e.target.value)},name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,color:"success",variant:"filled",size:"small",className:G.input})]}),(0,Z.jsx)(Y.Z,{type:"submit",disabled:!(n&&s),variant:"contained",size:"large",className:G.btn,sx:{ml:1},children:"Add contact"})]})}var Q=function(e){var t=e.value,n=e.onChange;return(0,Z.jsxs)(H.Z,{component:"label",variant:"h6",children:["Find contacts by name",(0,Z.jsx)(J.Z,{type:"text",value:t,onChange:n,name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,variant:"filled",size:"small",sx:{ml:2}})]})};function X(e){e.name,e.number;var t=(0,c.I0)();(0,r.useEffect)((function(){t(F.fetchContacts())}),[t]);var n=(0,c.v9)(W.getFilter),a=(0,c.v9)(W.getVisibleContacts);return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h1",{children:"Phonebook"}),(0,Z.jsx)(K,{}),(0,Z.jsx)("h2",{children:"Contacts"}),(0,Z.jsx)(E,{contacts:a}),(0,Z.jsx)(Q,{value:n,onChange:function(e){t((0,T.M6)(e.target.value))}})]})}X.protoType={state:o().oneOfType([o().string,o().number]),filter:o().string.isRequired}},7247:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=958.45dc8290.chunk.js.map